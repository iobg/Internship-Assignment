<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Digital Reasoning Assignment</title>
	<link rel="stylesheet" href="">
</head>
<body>
<input type="text" id="argument">
<button id="submit">submit</button>
<div id="result"></div>
</body>

<script>
let submitBtn = document.getElementById("submit");
let argumentBox = document.getElementById("argument");
let resultArea = document.getElementById("result");
let resultArray = []

submitBtn.addEventListener('click', e =>{
	let inputStr = argumentBox.value
	if(inputStr.charAt(0) === '[' 
		&& inputStr.charAt(inputStr.length-1) ===']'){

		let inputArray =  formatInput(inputStr)
		resultArray = []

		inputArray.forEach(argument =>{
			if(fizzBuzz(argument)){
				validateEmail(argument)
			}
		})

		console.log(resultArray)
		resultArea.innerText = resultArray
	}
	else{
		console.log("Enter a valid array")
		resultArea.innerText = "Enter a valid array"
	}
})

let formatInput = input =>{
 return input.replace(/\[/g, '')
 .replace(/\]/g, '')
 .replace(/^['"']/g,'')
 .replace(/^[' ']/g, '')
 .split(',')
}

let validateEmail = input =>{
	let regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
	if(regex.test(input)) resultArray.push('email')
	else resultArray.push(input)
}

let fizzBuzz = argument =>{
	let number = parseInt(argument)
	if(isNaN(number)){
		return argument
	}
	else if(number ===0) resultArray.push(0)

	else if(number%3 === 0 && number %5 === 0){
		resultArray.push("fizzbuzz")
	}
	else if(number%3 === 0){
		resultArray.push("fizz")
	}
	else if(number%5 === 0){
		resultArray.push("buzz")
	}
	else resultArray.push(number)
}

</script>
</html>
